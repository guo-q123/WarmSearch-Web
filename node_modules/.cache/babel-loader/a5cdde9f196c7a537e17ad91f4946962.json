{"remainingRequest":"D:\\all_project\\WarmSearch-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\all_project\\WarmSearch-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\all_project\\WarmSearch-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\all_project\\WarmSearch-Web\\src\\views\\attestation\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\all_project\\WarmSearch-Web\\src\\views\\attestation\\index.vue","mtime":1646550223799},{"path":"D:\\all_project\\WarmSearch-Web\\babel.config.js","mtime":1646550223702},{"path":"D:\\all_project\\WarmSearch-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646550504247},{"path":"D:\\all_project\\WarmSearch-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":1646550504177},{"path":"D:\\all_project\\WarmSearch-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646550504247},{"path":"D:\\all_project\\WarmSearch-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":1646550502645}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkQ6L2FsbF9wcm9qZWN0L1dhcm1TZWFyY2gtV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGZldGNoTGlzdCwgZmV0Y2hQdiwgY3JlYXRlQXJ0aWNsZSwgdXBkYXRlQXJ0aWNsZSwgZGVsZXRlVXNlciB9IGZyb20gJ0AvYXBpL2F0dGVzdGF0aW9uJzsKaW1wb3J0IHdhdmVzIGZyb20gJ0AvZGlyZWN0aXZlL3dhdmVzJzsgLy8gd2F2ZXMgZGlyZWN0aXZlCgppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nOyAvLyBzZWNvbmRhcnkgcGFja2FnZSBiYXNlZCBvbiBlbC1wYWdpbmF0aW9uCgp2YXIgY2FsZW5kYXJUeXBlT3B0aW9ucyA9IFt7CiAga2V5OiAnQ04nLAogIGRpc3BsYXlfbmFtZTogJ0NoaW5hJwp9LCB7CiAga2V5OiAnVVMnLAogIGRpc3BsYXlfbmFtZTogJ1VTQScKfSwgewogIGtleTogJ0pQJywKICBkaXNwbGF5X25hbWU6ICdKYXBhbicKfSwgewogIGtleTogJ0VVJywKICBkaXNwbGF5X25hbWU6ICdFdXJvem9uZScKfV07IC8vIGFyciB0byBvYmosIHN1Y2ggYXMgeyBDTiA6ICJDaGluYSIsIFVTIDogIlVTQSIgfQoKdmFyIGNhbGVuZGFyVHlwZUtleVZhbHVlID0gY2FsZW5kYXJUeXBlT3B0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VyKSB7CiAgYWNjW2N1ci5rZXldID0gY3VyLmRpc3BsYXlfbmFtZTsKICByZXR1cm4gYWNjOwp9LCB7fSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tcGxleFRhYmxlJywKICBjb21wb25lbnRzOiB7CiAgICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uCiAgfSwKICBkaXJlY3RpdmVzOiB7CiAgICB3YXZlczogd2F2ZXMKICB9LAogIGZpbHRlcnM6IHsKICAgIHN0YXR1c0ZpbHRlcjogZnVuY3Rpb24gc3RhdHVzRmlsdGVyKHN0YXR1cykgewogICAgICB2YXIgc3RhdHVzTWFwID0gewogICAgICAgIHB1Ymxpc2hlZDogJ3N1Y2Nlc3MnLAogICAgICAgIGRyYWZ0OiAnaW5mbycsCiAgICAgICAgZGVsZXRlZDogJ2RhbmdlcicKICAgICAgfTsKICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdOwogICAgfSwKICAgIHR5cGVGaWx0ZXI6IGZ1bmN0aW9uIHR5cGVGaWx0ZXIodHlwZSkgewogICAgICByZXR1cm4gY2FsZW5kYXJUeXBlS2V5VmFsdWVbdHlwZV07CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIHRhYmxlS2V5OiBNYXRoLnJhbmRvbSgpLAogICAgICBsaXN0OiBudWxsLAogICAgICB0b3RhbDogMCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgaW1nVXJsOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb250YWN0OiAnJywKICAgICAgICBjcmVhdGVUaW1lOiBuZXcgRGF0ZSgpLAogICAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCksCiAgICAgICAgZ29vZHNOYW1lOiAnJywKICAgICAgICBudW1iZXI6ICcnLAogICAgICAgIHVzZXJOYW1lOiAnJywKICAgICAgICBzb3J0OiAnLWlkJwogICAgICB9LAogICAgICBpbXBvcnRhbmNlT3B0aW9uczogWzEsIDIsIDNdLAogICAgICBjYWxlbmRhclR5cGVPcHRpb25zOiBjYWxlbmRhclR5cGVPcHRpb25zLAogICAgICBzb3J0T3B0aW9uczogW3sKICAgICAgICBsYWJlbDogJ0lEIOWNh+W6jycsCiAgICAgICAga2V5OiAnK2lkJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdJRCDpmY3luo8nLAogICAgICAgIGtleTogJy1pZCcKICAgICAgfV0sCiAgICAgIHN0YXR1c09wdGlvbnM6IFsncHVibGlzaGVkJywgJ2RyYWZ0JywgJ2RlbGV0ZWQnXSwKICAgICAgc2hvd1Jldmlld2VyOiBmYWxzZSwKICAgICAgdGVtcDogewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgaW1nVXJsOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb250YWN0OiAnJywKICAgICAgICBjcmVhdGVUaW1lOiBuZXcgRGF0ZSgpLAogICAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCksCiAgICAgICAgZ29vZHNOYW1lOiAnJywKICAgICAgICBudW1iZXI6ICcnLAogICAgICAgIHVzZXJOYW1lOiAnJwogICAgICB9LAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1N0YXR1czogJycsCiAgICAgIHRleHRNYXA6IHsKICAgICAgICB1cGRhdGU6ICdFZGl0JywKICAgICAgICBjcmVhdGU6ICdDcmVhdGUnCiAgICAgIH0sCiAgICAgIGRpYWxvZ1B2VmlzaWJsZTogZmFsc2UsCiAgICAgIHB2RGF0YTogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgYWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iupOmihuS6uueahOWcsOWdgOW/hemhu+i+k+WFpScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIGNvbnRhY3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICforqTpoobkurrnmoTogZTns7vmlrnlvI/lv4XpobvpgInmi6knLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBnb29kc05hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfooqvorqTpoobnmoTnianlk4HlkI3np7Dlv4XpobvovpPlhaUnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBpbWdVcmw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflm77niYflv4XpobvkuIrkvKAnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBudW1iZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICforqTpoobkurrnmoTlrablj7fmiJblt6Xlj7flv4XpobvovpPlhaUnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICB1c2VyTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iupOmihuS6uueahOWnk+WQjeW/hemhu+i+k+WFpScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGRvd25sb2FkTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHRoaXMudGVtcC5pbWdVcmwgPSBmaWxlLnVybDsKICAgICAgY29uc29sZS5sb2coZmlsZS51cmwpOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUpIHsKICAgICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsOwogICAgICBjb25zb2xlLmxvZyhmaWxlLnJlc3BvbnNlLnVybCk7CiAgICB9LAogICAgaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3OiBmdW5jdGlvbiBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgewogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUudXJsKTsKICAgIH0sCiAgICBoYW5kbGVEb3dubG9hZDE6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkMShmaWxlKSB7CiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsKICAgICAgY29uc29sZS5sb2coZmlsZS51cmwpOwogICAgfSwKICAgIGhhbmRsZVByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZVByZXZpZXcoZmlsZSkgewogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgIH0sCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIGZldGNoTGlzdCh0aGlzLmxpc3RRdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5pdGVtczsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0sIDEuNSAqIDEwMDApOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXI6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGhhbmRsZU1vZGlmeVN0YXR1czogZnVuY3Rpb24gaGFuZGxlTW9kaWZ5U3RhdHVzKHJvdywgc3RhdHVzKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfmk43kvZxTdWNjZXNzJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSk7CiAgICAgIHJvdy5zdGF0dXMgPSBzdGF0dXM7CiAgICB9LAogICAgc29ydENoYW5nZTogZnVuY3Rpb24gc29ydENoYW5nZShkYXRhKSB7CiAgICAgIHZhciBwcm9wID0gZGF0YS5wcm9wLAogICAgICAgICAgb3JkZXIgPSBkYXRhLm9yZGVyOwoKICAgICAgaWYgKHByb3AgPT09ICdpZCcpIHsKICAgICAgICB0aGlzLnNvcnRCeUlEKG9yZGVyKTsKICAgICAgfQogICAgfSwKICAgIHNvcnRCeUlEOiBmdW5jdGlvbiBzb3J0QnlJRChvcmRlcikgewogICAgICBpZiAob3JkZXIgPT09ICdhc2NlbmRpbmcnKSB7CiAgICAgICAgdGhpcy5saXN0UXVlcnkuc29ydCA9ICcraWQnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubGlzdFF1ZXJ5LnNvcnQgPSAnLWlkJzsKICAgICAgfQoKICAgICAgdGhpcy5oYW5kbGVGaWx0ZXIoKTsKICAgIH0sCiAgICByZXNldFRlbXA6IGZ1bmN0aW9uIHJlc2V0VGVtcCgpIHsKICAgICAgdGhpcy50ZW1wID0gewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgaW1nVXJsOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb250YWN0OiAnJywKICAgICAgICBjcmVhdGVUaW1lOiBuZXcgRGF0ZSgpLAogICAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCksCiAgICAgICAgZ29vZHNOYW1lOiAnJywKICAgICAgICBudW1iZXI6ICcnLAogICAgICAgIHVzZXJOYW1lOiAnJwogICAgICB9OwogICAgfSwKICAgIGhhbmRsZUNyZWF0ZTogZnVuY3Rpb24gaGFuZGxlQ3JlYXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXRUZW1wKCk7CiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ2NyZWF0ZSc7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlRGF0YTogZnVuY3Rpb24gY3JlYXRlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY3JlYXRlQXJ0aWNsZShfdGhpczMudGVtcCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5saXN0LnVuc2hpZnQoX3RoaXMzLnRlbXApOwoKICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAnQ3JlYXRlZCBTdWNjZXNzZnVsbHknLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMudGVtcCA9IE9iamVjdC5hc3NpZ24oe30sIHJvdyk7IC8vIGNvcHkgb2JqCgogICAgICB0aGlzLnRlbXAuY3JlYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMudGVtcC5jcmVhdGVUaW1lKTsKICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAndXBkYXRlJzsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJHJlZnNbJ2RhdGFGb3JtJ10uY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVEYXRhOiBmdW5jdGlvbiB1cGRhdGVEYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgdGVtcERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczUudGVtcCk7CiAgICAgICAgICB0ZW1wRGF0YS5jcmVhdGVUaW1lID0gK25ldyBEYXRlKHRlbXBEYXRhLmNyZWF0ZVRpbWUpOyAvLyBjaGFuZ2UgVGh1IE5vdiAzMCAyMDE3IDE2OjQxOjA1IEdNVCswODAwIChDU1QpIHRvIDE1MTIwMzEzMTE0NjQKCiAgICAgICAgICB1cGRhdGVBcnRpY2xlKHRlbXBEYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGluZGV4ID0gX3RoaXM1Lmxpc3QuZmluZEluZGV4KGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHYuaWQgPT09IF90aGlzNS50ZW1wLmlkOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNS5saXN0LnNwbGljZShpbmRleCwgMSwgX3RoaXM1LnRlbXApOwoKICAgICAgICAgICAgX3RoaXM1LmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczUuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAnVXBkYXRlIFN1Y2Nlc3NmdWxseScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3csIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHRtcEVtcGxveWVlID0gdGhpcy5saXN0W2luZGV4XTsKICAgICAgZGVsZXRlVXNlcih0bXBFbXBsb3llZS5pZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICdEZWxldGUgU3VjY2Vzc2Z1bGx5JywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNi5saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUZldGNoUHY6IGZ1bmN0aW9uIGhhbmRsZUZldGNoUHYocHYpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBmZXRjaFB2KHB2KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNy5wdkRhdGEgPSByZXNwb25zZS5kYXRhLnB2RGF0YTsKICAgICAgICBfdGhpczcuZGlhbG9nUHZWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRG93bmxvYWQ6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gdHJ1ZTsKICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoJ0AvdmVuZG9yL0V4cG9ydDJFeGNlbCcpKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZXhjZWwpIHsKICAgICAgICB2YXIgdEhlYWRlciA9IFsndGltZXN0YW1wJywgJ3RpdGxlJywgJ3R5cGUnLCAnaW1wb3J0YW5jZScsICdzdGF0dXMnXTsKICAgICAgICB2YXIgZmlsdGVyVmFsID0gWyd0aW1lc3RhbXAnLCAndGl0bGUnLCAndHlwZScsICdpbXBvcnRhbmNlJywgJ3N0YXR1cyddOwoKICAgICAgICB2YXIgZGF0YSA9IF90aGlzOC5mb3JtYXRKc29uKGZpbHRlclZhbCk7CgogICAgICAgIGV4Y2VsLmV4cG9ydF9qc29uX3RvX2V4Y2VsKHsKICAgICAgICAgIGhlYWRlcjogdEhlYWRlciwKICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICBmaWxlbmFtZTogJ3RhYmxlLWxpc3QnCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXM4LmRvd25sb2FkTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBmb3JtYXRKc29uOiBmdW5jdGlvbiBmb3JtYXRKc29uKGZpbHRlclZhbCkgewogICAgICByZXR1cm4gdGhpcy5saXN0Lm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBmaWx0ZXJWYWwubWFwKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgICBpZiAoaiA9PT0gJ3RpbWVzdGFtcCcpIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlVGltZSh2W2pdKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB2W2pdOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTb3J0Q2xhc3M6IGZ1bmN0aW9uIGdldFNvcnRDbGFzcyhrZXkpIHsKICAgICAgdmFyIHNvcnQgPSB0aGlzLmxpc3RRdWVyeS5zb3J0OwogICAgICByZXR1cm4gc29ydCA9PT0gIisiLmNvbmNhdChrZXkpID8gJ2FzY2VuZGluZycgOiAnZGVzY2VuZGluZyc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["key","display_name","acc","name","components","Pagination","directives","waves","filters","statusFilter","status","published","draft","deleted","typeFilter","type","data","dialogImageUrl","dialogVisible","disabled","fileList","tableKey","list","total","listLoading","listQuery","page","limit","id","imgUrl","address","contact","createTime","updateTime","goodsName","number","userName","sort","importanceOptions","calendarTypeOptions","sortOptions","label","statusOptions","showReviewer","temp","dialogFormVisible","dialogStatus","textMap","update","create","dialogPvVisible","pvData","rules","required","message","trigger","downloadLoading","created","methods","beforeUpload","file","console","handleRemove","handlePictureCardPreview","handleDownload1","handlePreview","getList","fetchList","setTimeout","handleFilter","handleModifyStatus","row","sortChange","sortByID","order","resetTemp","handleCreate","createData","createArticle","title","duration","handleUpdate","updateData","tempData","updateArticle","handleDelete","index","deleteUser","handleFetchPv","pv","fetchPv","handleDownload","excel","header","filename","formatJson","filterVal","getSortClass"],"sourceRoot":"src/views/attestation","sources":["index.vue"],"sourcesContent":["<!--\n * @Description: 认领信息登记功能\n * @Author: lijinghailjh@163.com\n * @Date: 2021/5/7\n -->\n<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input v-model=\"listQuery.id\" :placeholder=\"$t('table.id')\" style=\"width: 200px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n      <el-select v-model=\"listQuery.sort\" style=\"width: 140px\" class=\"filter-item\" @change=\"handleFilter\">\n        <el-option v-for=\"item in sortOptions\" :key=\"item.key\" :label=\"item.label\" :value=\"item.key\" />\n      </el-select>\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n        {{ $t('table.search') }}\n      </el-button>\n      <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">\n        {{ $t('table.add') }}\n      </el-button>\n      <el-button v-waves :loading=\"downloadLoading\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-download\" @click=\"handleDownload\">\n        {{ $t('table.export') }}\n      </el-button>\n      <el-checkbox v-model=\"showReviewer\" class=\"filter-item\" style=\"margin-left:15px;\" @change=\"tableKey=tableKey+1\">\n        {{ $t('table.reviewer') }}\n      </el-checkbox>\n    </div>\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n      @sort-change=\"sortChange\"\n    >\n      <el-table-column label=\"ID\" prop=\"id\" width=\"100px\" sortable=\"custom\" align=\"center\" :class-name=\"getSortClass('id')\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"被认领的物品名称\" width=\"100px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row. goodsName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"认领人的姓名\" width=\"100px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.userName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"认领人的联系方式\" width=\"100px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row. contact }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"认领人的学号或工号\" width=\"100px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.number }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"认领人的地址\" width=\"100px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.address }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"认领人的证件照\" width=\"120px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <img :src=\"row.imgUrl\" style=\"width:120px; height:100px\">\n        </template>\n      </el-table-column>\n      <el-table-column label=\"认领时间\" type=\"date\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.createTime | parseTime('{y}-{m}-{d} {h}:{i}:{s}') }}</span>\n        </template>\n      </el-table-column>\n      <!--      <el-table-column label=\"更新时间\" type=\"date\" align=\"center\">-->\n      <!--        <template slot-scope=\"{row}\">-->\n      <!--          <span>{{ row.updatedTime | parseTime('{y}-{m}-{d} {h}:{i}:{s}') }}</span>-->\n      <!--        </template>-->\n      <!--      </el-table-column>-->\n      <el-table-column :label=\"$t('table.actions')\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"{row,$index}\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(row)\">\n            {{ $t('table.edit') }}\n          </el-button>\n          <el-button v-if=\"row.status!='deleted'\" size=\"mini\" type=\"danger\" @click=\"handleDelete(row,$index)\">\n            {{ $t('table.delete') }}\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"temp\" label-position=\"left\" label-width=\"110px\" style=\"width: 400px; margin-left:150px;\">\n\n        <el-form-item :label=\"$t('认领人的证件照')\" prop=\"imgUrl\">\n\n          <el-upload\n            ref=\"upload\"\n            name=\"file\"\n            class=\"upload-demo\"\n            action=\"http://localhost:8091/upload\"\n            :on-success=\"beforeUpload\"\n            :on-remove=\"handleRemove\"\n            list-type=\"picture-card\"\n          >\n            <i slot=\"default\" class=\"el-icon-plus\" />\n            <div slot=\"file\" slot-scope=\"{file}\">\n              <img\n                class=\"el-upload-list__item-thumbnail\"\n                :src=\"file.url\"\n                alt=\"\"\n              >\n              <span class=\"el-upload-list__item-actions\">\n                <span\n                  class=\"el-upload-list__item-preview\"\n                  @click=\"handlePictureCardPreview(file)\"\n                >\n                  <i class=\"el-icon-zoom-in\" />\n                </span>\n                <span\n                  v-if=\"!disabled\"\n                  class=\"el-upload-list__item-delete\"\n                  @click=\"handleDownload1(file)\"\n                >\n                  <i class=\"el-icon-download\" />\n                </span>\n                <span\n                  v-if=\"!disabled\"\n                  class=\"el-upload-list__item-delete\"\n                  @click=\"handleRemove(file)\"\n                >\n                  <i class=\"el-icon-delete\" />\n                </span>\n              </span>\n            </div>\n          </el-upload>\n          <el-dialog :visible.sync=\"dialogVisible\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n\n        <el-form-item :label=\"$t('被认领的物品名称')\" prop=\"goodsName\">\n          <el-input v-model=\"temp.goodsName\" />\n        </el-form-item>\n\n        <el-form-item :label=\"$t('认领人的姓名')\" prop=\" userName\">\n          <el-input v-model=\"temp.userName\" />\n        </el-form-item>\n\n        <el-form-item :label=\"$t('认领人的联系方式')\" prop=\"contact\">\n          <el-input v-model=\"temp.contact\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('认领人的学号或工号')\" prop=\"number\">\n          <el-input v-model=\"temp.number\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('认领人的地址')\" prop=\"address\">\n          <el-input v-model=\"temp.address\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">\n          {{ $t('table.cancel') }}\n        </el-button>\n        <el-button type=\"primary\" @click=\"dialogStatus==='create'?createData():updateData()\">\n          {{ $t('table.confirm') }}\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog :visible.sync=\"dialogPvVisible\" title=\"Reading statistics\">\n      <el-table :data=\"pvData\" border fit highlight-current-row style=\"width: 100%\">\n        <el-table-column prop=\"key\" label=\"Channel\" />\n        <el-table-column prop=\"pv\" label=\"Pv\" />\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogPvVisible = false\">{{ $t('table.confirm') }}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { fetchList, fetchPv, createArticle, updateArticle, deleteUser } from '@/api/attestation'\nimport waves from '@/directive/waves' // waves directive\nimport { parseTime } from '@/utils'\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\nconst calendarTypeOptions = [\n  { key: 'CN', display_name: 'China' },\n  { key: 'US', display_name: 'USA' },\n  { key: 'JP', display_name: 'Japan' },\n  { key: 'EU', display_name: 'Eurozone' }\n]\n\n// arr to obj, such as { CN : \"China\", US : \"USA\" }\nconst calendarTypeKeyValue = calendarTypeOptions.reduce((acc, cur) => {\n  acc[cur.key] = cur.display_name\n  return acc\n}, {})\n\nexport default {\n  name: 'ComplexTable',\n  components: { Pagination },\n  directives: { waves },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'info',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    },\n    typeFilter(type) {\n      return calendarTypeKeyValue[type]\n    }\n  },\n  data() {\n    return {\n      dialogImageUrl: '',\n      dialogVisible: false,\n      disabled: false,\n      fileList: [],\n      tableKey: Math.random(),\n      list: null,\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 10,\n        id: undefined,\n        imgUrl: '',\n        address: '',\n        contact: '',\n        createTime: new Date(),\n        updateTime: new Date(),\n        goodsName: '',\n        number: '',\n        userName: '',\n        sort: '-id'\n      },\n      importanceOptions: [1, 2, 3],\n      calendarTypeOptions,\n      sortOptions: [{ label: 'ID 升序', key: '+id' }, { label: 'ID 降序', key: '-id' }],\n      statusOptions: ['published', 'draft', 'deleted'],\n      showReviewer: false,\n      temp: {\n        id: undefined,\n        imgUrl: '',\n        address: '',\n        contact: '',\n        createTime: new Date(),\n        updateTime: new Date(),\n        goodsName: '',\n        number: '',\n        userName: ''\n      },\n      dialogFormVisible: false,\n      dialogStatus: '',\n      textMap: {\n        update: 'Edit',\n        create: 'Create'\n      },\n      dialogPvVisible: false,\n      pvData: [],\n      rules: {\n        address: [{ required: true, message: '认领人的地址必须输入', trigger: 'change' }],\n        contact: [{ required: true, message: '认领人的联系方式必须选择', trigger: 'change' }],\n        goodsName: [{ required: true, message: '被认领的物品名称必须输入', trigger: 'change' }],\n        imgUrl: [{ required: true, message: '图片必须上传', trigger: 'change' }],\n        number: [{ required: true, message: '认领人的学号或工号必须输入', trigger: 'change' }],\n        userName: [{ required: true, message: '认领人的姓名必须输入', trigger: 'change' }]\n      },\n      downloadLoading: false\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    beforeUpload(file) {\n      this.temp.imgUrl = file.url\n      console.log(file.url)\n    },\n    handleRemove(file) {\n      this.dialogImageUrl = file.url\n      console.log(file.response.url)\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url\n      this.dialogVisible = true\n      console.log(file.url)\n    },\n    handleDownload1(file) {\n      this.dialogImageUrl = file.url\n      console.log(file.url)\n    },\n    handlePreview(file) {\n      console.log(file)\n    },\n\n    getList() {\n      this.listLoading = true\n      fetchList(this.listQuery).then(response => {\n        this.list = response.data.items\n        this.total = response.data.total\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1.5 * 1000)\n      })\n    },\n    handleFilter() {\n      this.listQuery.page = 1\n      this.getList()\n    },\n    handleModifyStatus(row, status) {\n      this.$message({\n        message: '操作Success',\n        type: 'success'\n      })\n      row.status = status\n    },\n    sortChange(data) {\n      const { prop, order } = data\n      if (prop === 'id') {\n        this.sortByID(order)\n      }\n    },\n    sortByID(order) {\n      if (order === 'ascending') {\n        this.listQuery.sort = '+id'\n      } else {\n        this.listQuery.sort = '-id'\n      }\n      this.handleFilter()\n    },\n    resetTemp() {\n      this.temp = {\n        id: undefined,\n        imgUrl: '',\n        address: '',\n        contact: '',\n        createTime: new Date(),\n        updateTime: new Date(),\n        goodsName: '',\n        number: '',\n        userName: ''\n      }\n    },\n    handleCreate() {\n      this.resetTemp()\n      this.dialogStatus = 'create'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    createData() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          createArticle(this.temp).then(() => {\n            this.list.unshift(this.temp)\n            this.dialogFormVisible = false\n            this.$notify({\n              title: 'Success',\n              message: 'Created Successfully',\n              type: 'success',\n              duration: 2000\n            })\n            this.getList()\n          })\n        }\n      })\n    },\n    handleUpdate(row) {\n      this.temp = Object.assign({}, row) // copy obj\n      this.temp.createTime = new Date(this.temp.createTime)\n      this.dialogStatus = 'update'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    updateData() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          const tempData = Object.assign({}, this.temp)\n          tempData.createTime = +new Date(tempData.createTime) // change Thu Nov 30 2017 16:41:05 GMT+0800 (CST) to 1512031311464\n          updateArticle(tempData).then(() => {\n            const index = this.list.findIndex(v => v.id === this.temp.id)\n            this.list.splice(index, 1, this.temp)\n            this.dialogFormVisible = false\n            this.$notify({\n              title: 'Success',\n              message: 'Update Successfully',\n              type: 'success',\n              duration: 2000\n            })\n          })\n        }\n      })\n    },\n    handleDelete(row, index) {\n      const tmpEmployee = this.list[index]\n      deleteUser(tmpEmployee.id).then(() => {\n        this.$notify({\n          title: 'Success',\n          message: 'Delete Successfully',\n          type: 'success',\n          duration: 2000\n        })\n        this.list.splice(index, 1)\n      })\n    },\n    handleFetchPv(pv) {\n      fetchPv(pv).then(response => {\n        this.pvData = response.data.pvData\n        this.dialogPvVisible = true\n      })\n    },\n    handleDownload() {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = ['timestamp', 'title', 'type', 'importance', 'status']\n        const filterVal = ['timestamp', 'title', 'type', 'importance', 'status']\n        const data = this.formatJson(filterVal)\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: 'table-list'\n        })\n        this.downloadLoading = false\n      })\n    },\n    formatJson(filterVal) {\n      return this.list.map(v => filterVal.map(j => {\n        if (j === 'timestamp') {\n          return parseTime(v[j])\n        } else {\n          return v[j]\n        }\n      }))\n    },\n    getSortClass: function(key) {\n      const sort = this.listQuery.sort\n      return sort === `+${key}` ? 'ascending' : 'descending'\n    }\n  }\n}\n</script>\n"]}]}